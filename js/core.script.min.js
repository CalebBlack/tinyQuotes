function randomQ(){"use strict";var e,t=Math.floor(Math.random()*quo.length),a=location.hash.substring(1),n=quo[a],l=n?n:quo[t],o=a||t,s=l.split("|"),r=s[0],i=s[1],c=r.split("//"),d=c[0],m=c[1],u=c[2],g=localStorage.getItem(lang?"lovedUS":"lovedES"),v=c[3],h=c[4],f=lang?'<span class="dev_fav" title="Favorite of the Developer"></span>':'<span class="dev_fav" title="Favorita del Desarrollador"></span>';if(void 0===u)e=m;else if("fav"==d||"fav"==u||"fav"==v||"fav"==h)switch(v){case"tumblr":e=m+' | <a href="http://www.'+u+refTu+'" target="_blank">'+u+"</a>"+f;break;case"facebook":e=m+' | <a href="'+refFb+u+'" target="_blank">'+u+"</a>"+f;break;case"twitter":e=m+' | <a href="'+refTw+u+'" target="_blank">'+u+"</a>"+f;break;case"behance":e=m+' | <a href="'+refBe+u+'" target="_blank">'+u+"</a>"+f;break;case"youtube":e=m+' | <a href="'+refYt+u+'" target="_blank">'+u+"</a>"+f;break;case void 0:e="fav"==u?m+f:m+" | "+u+f}else switch(v){case"tumblr":e=m+' | <a href="http://www.'+u+refTu+'" target="_blank">'+u+"</a>";break;case"facebook":e=m+' | <a href="'+refFb+u+'" target="_blank">'+u+"</a>";break;case"twitter":e=m+' | <a href="'+refTw+u+'" target="_blank">'+u+"</a>";break;case"behance":e=m+' | <a href="'+refBe+u+'" target="_blank">'+u+"</a>";break;case"youtube":e=m+' | <a href="'+refYt+u+'" target="_blank">'+u+"</a>";break;case void 0:e="fav"==u?m:m+" | "+u}cite.innerHTML=d,author.innerHTML=e;var p=d,p=encodeURIComponent(p.trim()),y=lang?"To long to share ;( | "+d.length:"Demasiado largo para compartir ;( | "+d.length,T=lang?"Share me :) | "+d.length:"Comparteme :) | "+d.length,b=" -";d.length+b.length+m.length>=141?(twitter.href="",twitter.className="disabled",twitter.title=y,twitter.target=""):d.length+b.length+m.length<=140&&(twitter.href="https://twitter.com/intent/tweet?text="+p+"%20-"+m,twitter.className="",twitter.title=T,twitter.target="_blank"),tinyQuotes.innerHTML="tiny Quote",tinyQuotes.addEventListener("focus",function(){var e=lang?"Share this quote :)":"Comparte esta frase :)";tinyQuotes.innerHTML=lang?"http://anchorer.bugs3.com/us/#"+o:"http://anchorer.bugs3.com/es/#"+o,tinyQuotes.title=e}),tinyQuotes.addEventListener("blur",function(){tinyQuotes.innerHTML="tiny Quote"}),tumblr.href="http://www.tumblr.com/share/link?description="+p+"%20-"+m+" | @"+u,tumblr.title=lang?"Share me :)":"Comparteme :)",tags.innerHTML="";var w=i.split(","),E=0;if(i>""||i.length>0)do tags.innerHTML+="<span id =z"+E+">"+w[E]+"</span>",-1!=legends.indexOf(w[E])&&(document.getElementById("z"+E).setAttribute("class","legends"),document.getElementById("z"+E).title="tag on the Legendum."),document.getElementById("z"+E).setAttribute("onclick","tag('"+w[E]+"')"),E+=1;while(E<=w.length-1);if(null===g)lang?localStorage.setItem("lovedUS",""):localStorage.setItem("lovedES",""),loving.setAttribute("class","toLove");else{var I=g.indexOf(o+",");I!=-o||0==I?(loving.setAttribute("class","loving"),console.warn("loved "+o)):-1==I&&(loving.setAttribute("class","toLove"),console.warn("not loved. "+o))}return screen.width>=961&&(cite.style.fontSize=d.length>=140?"2em":d.length>=200?"1.7em":"2.5em"),setTimeout(function(){location.hash=""},100),selectedQ=a||t}function daInterval(){switch(randomQ(),msg++,msg){case 1:console.clear(),console.info(lang?"Thanks for staying 1 minute with us :')":"Gracias por passarte 1 minuto con nosotros :')");break;case 2:console.clear(),console.info(lang?"TWO minutes. You like our quotes.":"DOS minutos. Te gustan nuestras frases.");break;case 3:console.clear(),console.info(lang?"THREE? Are you a bot?":"¿TRES minutos? ¿No seras un bot?");break;case 10:console.clear(),console.info(lang?"TEN minutes? You are one of us :)":"¿DIEZ minutos? Eres de los nuestro :)")}}function love(){var e=selectedQ||uHash,t=localStorage.getItem(lang?"lovedUS":"lovedES");if(null===t)lang?localStorage.setItem("lovedUS",e+","):localStorage.setItem("lovedES",e+",");else{var a=t.indexOf(e+",");if(-1!=a||0==a){{var n=localStorage.getItem(lang?"lovedUS":"lovedES");n.search(e+",")}console.warn("Already Loved "+e)}else-1===a&&(lang?localStorage.setItem("lovedUS",t+e+","):localStorage.setItem("lovedES",t+e+","),console.info("Loved quote: "+selectedQ),document.getElementById("love").setAttribute("class","loving"))}}function updateInfo(){{var e=location.hash.substring(1),t=localStorage.getItem(lang?"lovedUS":"lovedES");t.split(",")}if("home"==e||""==e)wrapper.style.display="block";else if("about"==e)wrapper.style.display="none";else if(-1!=e.search("restore")){var a=location.hash.substring(9);localStorage.setItem("quoteLoved",a)}else if(-1!=e.search("qr")){var n=localStorage.getItem(lang?"lovedUS":"lovedES"),l=document.getElementById("restore");l.style.display="block",l.innerHTML=0==n.length?lang?"  You don't have quotes to restore :')":"  No tienes frases para recuperar :')":" "+window.location.protocol+window.location.host+window.location.pathname+"#restore-"+n,location.hash=""}}function hide(){return 1==searchOn?(mQT.className="modal modalh",sQT.className="fav_search searchHide",setTimeout(function(){sQT.className="fav_search",mQT.className="modal",mQT.innerHTML=""},360)):(0==searchOn||void 0==searchOn)&&(modal.className="modal modalh",search.className="fav_search searchHide",setTimeout(function(){search.className="fav_search",modal.className="modal"},360)),overlay.style.display="none",sharer.style.display="none",search.value="",sQT.value="",pressed=!1,searchOn=!1}function checkKeyPressed(e){(void 0===pressed||pressed===!1)&&("82"==e.keyCode?(clearInterval(quoteInterval),quoteInterval=setInterval(daInterval,6e4),randomQ()):"70"==e.keyCode&&love())}function searchFav(){var e=search.value,t=localStorage.getItem(lang?"lovedUS":"lovedES"),a=t.split(",");modal.innerHTML="";for(var n=0;n<a.length-1;n++){{var l=a[n],o=quo[l],s=o.split("//"),r=s[0],i=r.toLowerCase();s[1]}-1!=i.indexOf(e)&&(modal.innerHTML=modal.innerHTML+"<section><cite contenteditable='true' spellcheck='false'>"+s[0]+"</cite><p><a onclick='location.reload()' href='#"+l+"'>"+s[1]+"<span class='dev_fav'></span></a></p></section>")}return pressed=!0}function total(){var e=localStorage.getItem(lang?"lovedUS":"lovedES"),t=e.split(","),a=t.length;0==e.length?document.getElementById("total").innerHTML=lang?"No fav quotes yet.":"Aun no le has dado Fav. a una cita.":e.length>0?document.getElementById("total").innerHTML=lang?"Total on Fav.: "+(a-1)+" of "+(quo.length-1):"Total en Fav.: "+(a-1)+" de "+(quo.length-1):a==a&&(document.getElementById("total").innerHTML=lang?"You loved all our quotes, thanks :)":"Te han gustado todas, gracias :)")}function find(){mQT.innerHTML="";for(var e=0;e<quo.length;e++){{var t=quo[e].split("|"),a=t[0],n=a.split("//"),l=n[0],o=l.toLowerCase(),s=n[1],r=t[1];r.split(",")}-1!=sQT.value.indexOf("#")?-1!=r.indexOf(sQT.value.substring(1,sQT.value.length))&&(mQT.innerHTML+="<section><cite contenteditable='true' spellcheck='false'>"+l+"</cite><p>"+s+"</p></section>"):-1!=o.indexOf(sQT.value.toLowerCase())&&(mQT.innerHTML+="<section><cite contenteditable='true' spellcheck='false'>"+l+"</cite><p>"+s+"</p></section>")}return pressed=!0}function searchQT(e){var e=e;return mQT.innerHTML="",void 0==e||null==e?(mQT.className="modal modals",overlay.style.display="block",sQT.className="fav_search searchd"):e&&(searchOn?find(e):(void 0==searchOn||null==searchOn||""==searchOn)&&(mQT.className="modal modals",overlay.style.display="block",sQT.className="fav_search searchd",sQT.value=e,find(e))),searchOn=!0}function tag(e){daTag.setAttribute("class","daTag daTag-open"),wrapper.setAttribute("class","wrapper wr-open"),tOverlay.setAttribute("class","tOverlay tol-open"),iframe.setAttribute("src","../tags/tags.html#"+e),tOverlay.addEventListener("click",function(){wrapper.setAttribute("class","wrapper"),this.setAttribute("class","tOverlay tol-closed"),daTag.setAttribute("class","daTag daTag-closed")})}var selectedQ,msg=0,pressed,searchOn,refTw="http://www.twitter.com/",refFb="http://www.facebook.com/",refYt="http://www.youtube.com/user/",refBe="http://www.behance.com/",refTu=".tumblr.com",cite=document.getElementById("cite"),author=document.getElementById("author"),modal=document.getElementById("modal"),mQT=document.getElementById("modalQT"),overlay=document.getElementById("overlay"),tOverlay=document.getElementById("tOverlay"),search=document.getElementById("search"),sQT=document.getElementById("searchQT"),loving=document.getElementById("love"),twitter=document.getElementById("twitter"),tumblr=document.getElementById("tumblr"),tinyQuotes=document.getElementById("tinyQuotes"),wrapper=document.getElementById("wrapper"),favs=document.getElementById("favs"),sharer=document.getElementById("sharer"),uHash=location.hash.substring(1),title=document.getElementsByTagName("title")[0],tags=document.getElementById("tags"),mTags=document.getElementById("mTags"),daTag=document.getElementById("da_tag"),iframe=document.getElementById("tags_iframe"),quo,lang;-1!=title.innerHTML.indexOf("US")?(quo=quotes,lang=!0):-1!=title.innerHTML.indexOf("ES")&&(quo=citas,lang=!1);var quoteInterval=setInterval(daInterval,6e4);setInterval(updateInfo,500),window.addEventListener("load",randomQ,!1),window.addEventListener("keydown",checkKeyPressed,!1),search.addEventListener("keydown",searchFav,!1),document.getElementById("overlay").addEventListener("click",hide),window.addEventListener("load",total,!1),window.addEventListener("load",function(){var e=localStorage.getItem("pending"),t=e.split("|"),a=document.getElementById("pendingC"),n=0;do{n+=1;var l=t[n],o=l.split("//"),s=o[0];a.innerHTML+="<section><cite class='not'>"+s.substr(0,60)+"</cite></section>"}while(n<t.length-1)},!1),document.getElementById("post").addEventListener("click",function(){var e=document.createElement("section"),t=document.getElementById("form"),a=t.getElementsByTagName("input")[0],n=t.getElementsByTagName("input")[1],l=t.getElementsByTagName("input")[2],o=t.getElementsByTagName("select")[0],s=document.getElementById("pendingC"),r=document.getElementsByTagName("section")[0],i=(localStorage.pending,a.value+"//"+n.value+"//"+l.value+"//"+o.value.toLowerCase()),c="mailto:amiguencio@icloud.com?subject="+n.value+"[quote]&body="+a.value;e.innerHTML="<cite class='added'>"+a.value.substr(0,60)+"</cite>",a.value.length>=6&&n.value.length>=6&&l.value.length>=6?null===localStorage.getItem("pending")?(localStorage.setItem("pending",i),s.insertBefore(e,r)):localStorage.getItem("pending")&&(localStorage.setItem("pending",localStorage.getItem("pending")+"|"+i),a.value="",n.value="",l.value="",s.insertBefore(e,r),window.location.href=c):alert(lang?"fill all the form":"rellena los campos primero")}),favs.addEventListener("click",function(){modal.className="modal modals",overlay.style.display="block",search.className="fav_search searchd",sharer.style.display="block",modal.innerHTML="";var e=localStorage.getItem(lang?"lovedUS":"lovedES"),t=e.split(","),a=0;do{var n;n=""==t[a]?quo[0]:quo[t[a]];{var l=n.split("|"),o=l[0],s=l[1],r=o.split("//"),i=r[0],c=r[1];s.split(",")}modal.innerHTML=modal.innerHTML+"<section><cite contenteditable='true' spellcheck='false'>"+i+"</cite><p><a onclick='location.reload()' href='#"+t[a]+"'>"+c+"</a></p></section>",a++}while(a<=t.length-1)}),sQT.addEventListener("keydown",find,!1);